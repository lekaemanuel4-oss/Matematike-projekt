<!DOCTYPE html>
<html lang="sq">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Study Time Optimizer - Grafiket</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
/* BODY & CONTAINER */
body { 
    font-family: 'Inter', Arial, sans-serif; 
    background: linear-gradient(to bottom, #5fe2f3, #ffffff); 
    margin:0; padding:0; color:#333; 
}
.container { 
    max-width: 1100px; 
    margin: 40px auto; 
    padding: 40px 30px; 
    background: #fff; 
    border-radius: 25px; 
    box-shadow: 0 15px 40px rgba(0,0,0,0.1);
    transition: all 0.3s;
}

/* HEADINGS */
h1{text-align:center; color:#1a73e8; font-weight:700; font-size:2.5rem; margin-bottom:25px;}
h2.section-title{color:#1a73e8; margin-top:60px; font-weight:600; font-size:1.7rem; border-bottom: 2px solid #1a73e8; padding-bottom:5px;}

/* INTRO */
.intro{
    background: #d0e7ff; 
    padding:25px 20px; 
    border-radius:20px; 
    margin-bottom:30px; 
    font-size:1rem; 
    line-height:1.6; 
    box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
}

/* LABELS & INPUTS */
label{display:block; margin-top:15px; font-weight:600; font-size:1rem;}
input[type=number], input[type=text]{
    padding:12px; 
    margin-top:5px; 
    border-radius:12px; 
    border:1px solid #ccc; 
    width:100%; 
    max-width:220px; 
    font-size:1rem; 
    transition: all 0.3s;
}
input:focus{
    border-color:#1a73e8; 
    box-shadow:0 0 10px rgba(26,115,232,0.25); 
    outline:none;
}
.input-error{border-color:red;}

/* BUTTONS */
button{
    margin-top:20px; 
    padding:14px 30px; 
    border:none; 
    background: linear-gradient(90deg, #1a73e8, #4facfe); 
    color:white; 
    font-weight:600; 
    font-size:1rem; 
    border-radius:25px; 
    cursor:pointer; 
    transition: all 0.3s;
}
button:hover{
    background: linear-gradient(90deg, #155cb0, #3a8dff); 
    transform: translateY(-2px); 
    box-shadow:0 8px 20px rgba(0,0,0,0.15);
}

/* SUBJECT BLOCKS */
.subject{
    background:#f0f8ff; 
    padding:20px; 
    border-radius:20px; 
    margin-bottom:20px; 
    box-shadow:0 6px 18px rgba(0,0,0,0.05); 
    transition: all 0.3s;
}
.subject:hover{
    transform: translateY(-2px); 
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

/* ERROR TEXT */
.field-error{color:red; font-size:0.85rem; min-height:1.2em; margin-top:3px;}

/* CHARTS */
.chart-container{margin-top:35px; padding:25px; border-radius:20px; background:#f0f4f8; box-shadow:0 6px 20px rgba(0,0,0,0.05);}
.bar{height:35px; margin:10px 0; color:white; text-align:right; padding-right:10px; border-radius:12px; font-weight:600; font-size:0.95rem; position: relative; transition: all 0.3s;}
.bar:hover{transform: scaleX(1.05); opacity:0.85; box-shadow:0 4px 15px rgba(0,0,0,0.15);}
canvas{margin-top:35px; border-radius:20px; background:#f0f4f8; padding:20px; max-height:500px; width:100%; box-shadow:0 6px 20px rgba(0,0,0,0.05);}
.chart-description{text-align:center; margin-top:10px; color:#555; font-size:0.95rem; font-style:italic;}

/* SUMMARY TEXT */
.summary-text{text-align:center; font-size:1rem; margin-top:25px; font-weight:600; color:#1a73e8; white-space:pre-line;}

/* NAVIGATION */
.nav{
    margin-top:50px; 
    display:flex; 
    justify-content:center; 
    gap:20px; 
    flex-wrap:wrap;
}
.nav a{
    color:#fff; 
    text-decoration:none; 
    font-weight:600; 
    padding:12px 25px; 
    border-radius:25px; 
    background: linear-gradient(90deg, #1a73e8, #4facfe);
    transition: all 0.3s;
}
.nav a:hover{
    background: linear-gradient(90deg, #155cb0, #3a8dff);
    transform: translateY(-2px);
}

/* EFIKASITETI SECTION */
.efficiency-section{
    margin-top:60px; 
    padding:30px 25px; 
    border-radius:25px; 
    background:#d0f0e0; 
    text-align:center; 
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
}
.efficiency-section h3{
    color:#27ae60; 
    margin-bottom:15px; 
    font-size:1.6rem;
}
.efficiency-section p{
    font-size:1rem; 
    color:#333; 
    line-height:1.6;
}
.efficiency-section a{
    display:inline-block; 
    margin-top:15px; 
    padding:12px 30px; 
    border-radius:25px; 
    font-weight:600; 
    color:#fff; 
    background:#27ae60; 
    text-decoration:none; 
    transition: all 0.3s;
}
.efficiency-section a:hover{
    background:#1e8449;
    transform: translateY(-2px);
}

/* RESPONSIVE */
@media(max-width:768px){
    .container{padding:25px;} 
    h1{font-size:2rem;} 
    h2.section-title{font-size:1.4rem;} 
    input[type=number],input[type=text]{max-width:100%;}
}
</style>
</head>
<body>
<div class="container">
<h1>Smart Study Time Optimizer</h1>

<div class="intro">
Welcome! Ky kalkulator do t'ju ndihmojë të planifikoni **kohën optimale për çdo lëndë** duke marrë parasysh prioritetin, vështirësinë dhe përgatitjen tuaj. <br>
1️⃣ Vendosni totalin e orëve që keni për studim.<br>
2️⃣ Zgjidhni numrin e lëndëve (minimumi 1).<br>
3️⃣ Shkruani emrin, prioritetin, vështirësinë dhe përgatitjen për çdo lëndë.<br>
4️⃣ Klikoni "Llogarit Kohën Optimum" dhe shikoni rezultatet me grafikun e barëve.
</div>

<label>Koha totale e studimit (orë):</label>
<input type="number" id="totalTime" value="6" step="0.1">
<div id="totalTimeError" class="field-error"></div>

<label>Numri i lëndëve:</label>
<input type="number" id="numSubjects" value="3" min="1">
<div id="numSubjectsError" class="field-error"></div>

<button onclick="generateSubjects()">Gjenero Lëndët</button>
<div id="subjectsContainer"></div>
<button onclick="calculateTime()">Llogarit Kohën Optimum</button>

<h2 class="section-title">Rezultatet</h2>
<div id="oldGraph" class="chart-container"></div>
<div class="chart-description"></div>

<h2 class="section-title">Grafiku me Tabelë </h2>
<canvas id="newChartCanvas"></canvas>
<div class="chart-description"></div>

<div id="summaryText" class="summary-text"></div>

<div class="nav">
<a href="index.html">Faqja Kryesore</a>
<a href="formulat.html">Formulat</a>
<a href="Efikasitet.html">Efikasiteti</a>
</div>

<!-- EFFICIENCY SECTION -->
<div class="efficiency-section">
<h3>Rritni Efikasitetin e Studimit</h3>
<p>Shikoni faqen e Efikasitetit për të mësuar teknika të avancuara që ju ndihmojnë të përdorni çdo orë studimi më efektivisht dhe të përmirësoni memorien, përqendrimin dhe organizimin.</p>
<a href="Efikasitet.html">Shko tek Efikasiteti</a>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// JavaScript i mëparshëm për gjenerimin dhe llogaritjen e kohës
function generateSubjects(){
    let n=parseInt(document.getElementById('numSubjects').value);
    if(n<1){ n=1; document.getElementById('numSubjects').value=1; }
    const container=document.getElementById('subjectsContainer');
    container.innerHTML='';
    for(let i=1;i<=n;i++){
        const div=document.createElement('div'); div.className='subject';
        div.innerHTML=`<b>Lënda ${i}</b><br>
<label>Emri i lëndës:</label><input type='text' class='subjectName'><div class='field-error name-error'></div>
<label>Prioriteti (1-5):</label><input type='number' min='1' max='5' step='0.1' class='priority'><div class='field-error priority-error'></div>
<label>Vështirësia (1-5):</label><input type='number' min='1' max='5' step='0.1' class='difficulty'><div class='field-error difficulty-error'></div>
<label>Përgatitja (1-5):</label><input type='number' min='1' max='5' step='0.1' class='preparedness'><div class='field-error preparedness-error'></div>`;
        container.appendChild(div);
    }
}
generateSubjects();

let newChart=null;

function calculateTime(){
    const T=parseFloat(document.getElementById('totalTime').value);
    const namesEls=Array.from(document.getElementsByClassName('subjectName'));
    const prioritiesEls=Array.from(document.getElementsByClassName('priority'));
    const difficultiesEls=Array.from(document.getElementsByClassName('difficulty'));
    const preparednessEls=Array.from(document.getElementsByClassName('preparedness'));
    document.getElementById('totalTimeError').textContent='';
    namesEls.forEach(el=>{
        const row=el.parentElement;
        row.querySelectorAll('.field-error').forEach(fe=>fe.textContent='');
        row.querySelectorAll('input').forEach(inp=>inp.classList.remove('input-error'));
    });

    let hasError=false;
    if(isNaN(T)||T<=0){document.getElementById('totalTimeError').textContent='Vendosni një kohë valide.'; hasError=true;}
    for(let i=0;i<namesEls.length;i++){
        const row=namesEls[i].parentElement;
        const nameVal=namesEls[i].value.trim();
        const pVal=parseFloat(prioritiesEls[i].value);
        const dVal=parseFloat(difficultiesEls[i].value);
        const eVal=parseFloat(preparednessEls[i].value);
        if(!nameVal){row.querySelector('.name-error').textContent='Vendosni emrin e lëndës.'; namesEls[i].classList.add('input-error'); hasError=true;}
        if(isNaN(pVal)||pVal<1||pVal>5){row.querySelector('.priority-error').textContent='Prioriteti duhet të jetë 1–5.'; prioritiesEls[i].classList.add('input-error'); hasError=true;}
        if(isNaN(dVal)||dVal<1||dVal>5){row.querySelector('.difficulty-error').textContent='Vështirësia duhet të jetë 1–5.'; difficultiesEls[i].classList.add('input-error'); hasError=true;}
        if(isNaN(eVal)||eVal<1||eVal>5){row.querySelector('.preparedness-error').textContent='Përgatitja duhet të jetë 1–5.'; preparednessEls[i].classList.add('input-error'); hasError=true;}
    }
    if(hasError){return;}

    const names=namesEls.map(el=>el.value.trim());
    const priorities=prioritiesEls.map(i=>parseFloat(i.value));
    const difficulties=difficultiesEls.map(i=>parseFloat(i.value));
    const preparedness=preparednessEls.map(i=>parseFloat(i.value));
    let N=priorities.map((p,idx)=>(p*difficulties[idx])/preparedness[idx]);
    const Ntotal=N.reduce((a,b)=>a+b,0);
    let t=N.map(n=>T*n/Ntotal);

    const colors=[
        '#FF6B6B','#FFB56B','#FFD93D','#6BCB77','#4D96FF','#B86BFF','#FF4DB6','#1ABC9C','#F39C12','#E74C3C'
    ];

    const oldGraph=document.getElementById('oldGraph'); oldGraph.innerHTML='';
    t.forEach((ti,idx)=>{
        const bar=document.createElement('div'); bar.className='bar';
        bar.style.width=(ti/T*100)+'%';
        bar.style.backgroundColor=colors[idx % colors.length];
        bar.textContent=`${names[idx]}: ${ti.toFixed(2)} h`;
        oldGraph.appendChild(bar);
    });

    const ctx=document.getElementById('newChartCanvas').getContext('2d');
    if(newChart) newChart.destroy();
    newChart=new Chart(ctx,{
        type:'bar',
        data:{labels:names, datasets:[{label:'Orët e Studimit', data:t, backgroundColor:colors.slice(0,names.length), borderRadius:15}]},
        options:{
            responsive:true,
            animation:{duration:1000},
            plugins:{
                legend:{display:false},
                tooltip:{enabled:true},
                afterDatasetsDraw: chart=>{
                    const ctx=chart.ctx;
                    chart.data.datasets[0].data.forEach((val,idx)=>{
                        const x=chart.scales.x.getPixelForValue(idx);
                        const y=chart.scales.y.getPixelForValue(val)-5;
                        ctx.fillStyle='#000';
                        ctx.font='bold 12px Inter';
                        ctx.textAlign='center';
                        ctx.fillText(val.toFixed(2)+' h', x, y);
                    });
                }
            },
            scales:{y:{beginAtZero:true, max:T, title:{display:true,text:'Orët (maks '+T+'h)'}}, x:{title:{display:true,text:'Lëndët'}}}
        }
    });

    const summary = document.getElementById('summaryText');
    let summaryText = `Për ${T} orë studimi total, duhet të studiosh:\n`;
    t.forEach((ti, idx)=>{
        const hours = Math.floor(ti);
        const minutes = Math.round((ti - hours) * 60);
        summaryText += `- ${names[idx]}: ${ti.toFixed(2)} h (${minutes} min)\n`;
    });
    summary.textContent = summaryText;
}
</script>
    <br><br>
<p style="font-size: 0.9em; color: #777;">Model Matem
Model Matematik për Optimizimin e Ngarkesës Kohore © Smart Study Optimizer @leka_emanuel4
</body>
</html>
